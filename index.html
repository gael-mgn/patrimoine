<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guide du patrimoine en Péril</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400&display=swap" rel="stylesheet">
    <link href="style/styles.css" rel="stylesheet">
    <link rel="icon" type="image/png" href="img/logo.png"/>
    <script src="js/script.js"></script>
</head>
<body>
    <header>
        <div class="container22">
        <h1 class="banner-title"><a href="#">Guide du Patrimoine en Péril</a></h1>

        <nav class="main-nav">
                <ul class="menu">
                    <li><a href="#">Accueil</a></li>
                    <li><a href="articles/parcours.html">Articles</a></li>
                    <li><a href="#projects">A propos</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>
    <div class="banner"></div>


            <div class="container22">
                <div class="parent">
        <div class="enfant">
            <h2>Dernière étude de cas - Toulouse</h2>
            <div class="parent last-study">
                <div class="enfant">
                    <div class="article">
            <a href="article1.html">
                <img src="img/article.png" alt="Image 1">
                <div class="rating">
                <img src="img/marteau.png" alt="Marteau 1">
                <img src="img/marteau.png" alt="Marteau 2">
                <img src="img/marteau.png" alt="Marteau 3">
            </div>
            </a>
            <!--<h3>Article 1</h3>-->
            <p>Ceci est une courte description de l'article 1.</p>
            <p>Insérer une courte description présentant la batisse, son histoire...</p>
        </div>
                </div>
                <div class="enfant">
                    <h3>Rapport</h3>
                    <div class="diagram-container">
                <div class="circular-progress" data-value="75" data-color="#752D2C" data-bgcolor="#F26565"></div>
                <div class="circular-progress" data-value="66" data-color="#2E4A45" data-bgcolor="#5E8779"></div>

            </div>
                            <p>Insérer une courte description pour analyser les risques les plus importants auxquel le batiment est exposé...</p>

                </div>
            </div>


            <div class="parent">
        <div class="enfant">
            <h2>Cartographie d'un patrimoine abandonné</h2>
            <div class="article">
            <a href="article1.html">
                <img src="img/carte.png" alt="Image 2">
            </a>
            <p>Ceci est une courte description de l'article 2.</p>
        </div>
    </div>
        <div class="enfant">
            <h2>Un projet ambitieux</h2>
            <div class="article">
            <a href="article3.html">
                <img src="img/article3.png" alt="Image 1">
            </a>
            <!--<h3>Article 1</h3>-->
            <p>Ceci est une courte description de l'article 1.</p>
            <p>Insérer une courte description présentant la batisse, son histoire...</p>
        </div>
        </div>

        </div>
        </div>



        <div class="enfant">
                        <h2>Dignostiques patrimoniaux</h2>
             <div class="article-grid">
        <div class="article rate">
            <p>Bâtiment fragilisé.</p>
            <div class="rating">
                <img src="img/marteau.png" alt="Marteau 1">
            </div>
            <p>Bâtiment en péril.</p>
            <div class="rating">
                <img src="img/marteau.png" alt="Marteau 1">
                <img src="img/marteau.png" alt="Marteau 2">
            </div>
            <p>Situation critique.</p>
            <div class="rating">
                <img src="img/marteau.png" alt="Marteau 1">
                <img src="img/marteau.png" alt="Marteau 2">
                <img src="img/marteau.png" alt="Marteau 3">
            </div>
            <br>
            <a href="" class="button">En savoir plus</a>
        </div>
        <div class="article">
            <a href="article1.html">
                <img src="img/article2.png" alt="Image 2">
            </a>
            <div class="rating">
                <img src="img/marteau.png" alt="Marteau 1">
                <img src="img/marteau.png" alt="Marteau 2">
            </div>
            <p>Ceci est une courte description de l'article 2. Insérer une courte description pour analyser les risques les plus importants auxquel le batiment est exposé...</p>
        </div>
        <div class="article">
            <a href="article1.html">
                <img src="img/article.png" alt="Image 3">
            </a>
            <div class="rating">
                <img src="img/marteau.png" alt="Marteau 1">
            </div>
            <p>Ceci est une courte description de l'article 3. Insérer une courte description pour analyser les risques les plus importants auxquel le batiment est exposé...</p>
        </div>
        <div class="article">
            <img src="img/article.png" alt="Image 4">
            <div class="rating">
                <img src="img/marteau.png" alt="Marteau 1">
                <img src="img/marteau.png" alt="Marteau 2">
                <img src="img/marteau.png" alt="Marteau 3">
            </div>
            <p>Ceci est une courte description de l'article 4. Insérer une courte description pour analyser les risques les plus importants auxquel le batiment est exposé...</p>
        </div>
        <div class="article">
            <img src="img/article2.png" alt="Image 4">
            <div class="rating">
                <img src="img/marteau.png" alt="Marteau 1">
            </div>
            <p>Ceci est une courte description de l'article 4. Insérer une courte description pour analyser les risques les plus importants auxquel le batiment est exposé...</p>
        </div>
        <div class="article">
            <img src="img/more.png" alt="Image 4">
            <br>
            <a href="">Voir tous les contenus</a>
        </div>
    </div>
        </div>
    </div>
        </div>











  <script>


    // Fonction d'interpolation Ease-In-Out
    function easeInOut(t) {
      return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;
    }

    function animateCircularProgress(element, value, color, bgColor, duration) {
      const startTime = performance.now();
      const targetProgress = value / 100; // Progression cible en pourcentage (normalisé 0-1)
      const progressValue = element.querySelector('.progress-value');

      // Configurer les couleurs
      element.style.setProperty('--color', color);
      element.style.setProperty('--bgcolor', bgColor);

      function step(currentTime) {
        const elapsedTime = currentTime - startTime;
        const t = Math.min(elapsedTime / duration, 1); // Temps normalisé entre 0 et 1
        const easedProgress = easeInOut(t); // Appliquer l'interpolation

        // Calculer l'angle et la progression
        const currentProgress = easedProgress * targetProgress * 100;
        const angle = easedProgress * targetProgress * 360;

        // Mettre à jour la barre et le texte
        element.style.setProperty('--progress', `${angle}deg`);
        progressValue.textContent = `${Math.round(currentProgress)}%`;

        // Continuer l'animation jusqu'à la fin
        if (t < 1) {
          requestAnimationFrame(step);
        }
      }

      // Lancer l'animation
      requestAnimationFrame(step);
    }

    function initializeCircularProgress() {
      const progressElements = document.querySelectorAll('.circular-progress');

      progressElements.forEach(element => {
        // Lire les données des attributs HTML
        const value = parseFloat(element.dataset.value) || 0; // Valeur par défaut : 0
        const color = element.dataset.color || '#4caf50'; // Couleur par défaut : vert
        const bgColor = element.dataset.bgcolor || '#e0e0e0'; // Couleur de fond par défaut : gris clair
        const duration = 800; // Durée de l'animation en ms

        // Ajouter l'élément de valeur
        element.innerHTML = `<div class="progress-value">0%</div>`;

        // Lancer l'animation
        animateCircularProgress(element, value, color, bgColor, duration);
      });
    }

    // Initialiser les diagrammes au chargement de la page
    document.addEventListener('DOMContentLoaded', initializeCircularProgress);
  </script>
<!--
  <script>
    // Note à afficher (sur 100)
    const note = 72; // Remplacez cette valeur par la note souhaitée

    // Convertir la note en angle pour la barre circulaire
    const progress = (note / 100) * 360;

    // Mettre à jour l'élément HTML
    const circularProgress = document.querySelector('.circular-progress');
    const progressValue = document.querySelector('.progress-value');

    circularProgress.style.setProperty('--progress', `${progress}deg`);
    progressValue.textContent = `${note}%`;
  </script>-->




</body>
</html>
